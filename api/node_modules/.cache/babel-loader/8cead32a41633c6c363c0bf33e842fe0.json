{"ast":null,"code":"// Copyright 2017-2021 @polkadot/keyring authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { assert, u8aConcat } from '@polkadot/util';\nimport { naclEncrypt, scryptEncode, scryptToU8a } from '@polkadot/util-crypto';\nimport { PKCS8_DIVIDER, PKCS8_HEADER } from \"./defaults.js\";\nexport function encodePair(_ref, passphrase) {\n  var publicKey = _ref.publicKey,\n      secretKey = _ref.secretKey;\n  assert(secretKey, 'Expected a valid secretKey to be passed to encode');\n  var encoded = u8aConcat(PKCS8_HEADER, secretKey, PKCS8_DIVIDER, publicKey);\n\n  if (!passphrase) {\n    return encoded;\n  }\n\n  var _scryptEncode = scryptEncode(passphrase),\n      params = _scryptEncode.params,\n      password = _scryptEncode.password,\n      salt = _scryptEncode.salt;\n\n  var _naclEncrypt = naclEncrypt(encoded, password.subarray(0, 32)),\n      encrypted = _naclEncrypt.encrypted,\n      nonce = _naclEncrypt.nonce;\n\n  return u8aConcat(scryptToU8a(salt, params), nonce, encrypted);\n}","map":null,"metadata":{},"sourceType":"module"}