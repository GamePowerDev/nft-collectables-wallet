{"ast":null,"code":"// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport scryptsy from 'scryptsy';\nimport { bufferToU8a, u8aToBuffer, u8aToU8a } from '@polkadot/util';\nimport { isReady, scrypt } from '@polkadot/wasm-crypto';\nimport { randomAsU8a } from \"../random/asU8a.js\";\nimport { DEFAULT_PARAMS } from \"./defaults.js\";\nexport function scryptEncode(passphrase) {\n  var salt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : randomAsU8a();\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_PARAMS;\n  var password = isReady() ? scrypt(u8aToU8a(passphrase), salt, Math.log2(params.N), params.r, params.p) : bufferToU8a(scryptsy(u8aToBuffer(u8aToU8a(passphrase)), u8aToBuffer(salt), params.N, params.r, params.p, 64));\n  return {\n    params: params,\n    password: password,\n    salt: salt\n  };\n}","map":null,"metadata":{},"sourceType":"module"}