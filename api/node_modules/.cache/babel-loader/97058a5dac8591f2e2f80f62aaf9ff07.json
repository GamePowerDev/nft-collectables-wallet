{"ast":null,"code":"// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { assert } from '@polkadot/util';\nimport { mnemonicValidate } from \"../../mnemonic/index.js\";\nimport { naclKeypairFromSeed } from \"../../nacl/index.js\";\nimport { HARDENED, hdValidatePath } from \"../validatePath.js\";\nimport { ledgerDerivePrivate } from \"./derivePrivate.js\";\nimport { ledgerMaster } from \"./master.js\";\nexport function hdLedger(mnemonic, path) {\n  assert(mnemonicValidate(mnemonic), 'Invalid mnemonic passed to ledger derivation');\n  assert(hdValidatePath(path), 'Invalid derivation path');\n  return naclKeypairFromSeed(path.split('/').slice(1).map(function (n) {\n    return parseInt(n.replace(\"'\", ''), 10);\n  }).map(function (n) {\n    return n < HARDENED ? n + HARDENED : n;\n  }).reduce(function (x, n) {\n    return ledgerDerivePrivate(x, n);\n  }, ledgerMaster(mnemonic)).slice(0, 32));\n}","map":null,"metadata":{},"sourceType":"module"}